# appveyor file
# http://www.appveyor.com/docs/appveyor-yml

version: 1.3.0.{build}

# scripts that are called at very beginning, before repo cloning
init:
  # Print environment info ( set / systeminfo)
  - msbuild /version
  - cmake --version
  - python --version
  - ps: iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/appveyor/ci/master/scripts/enable-rdp.ps1'))
  - PS: |
  {
    Add-Type -assembly "system.io.compression.filesystem"
    
    Write-Host "Downloading boost.."
    (new-object net.webclient).DownloadFile("http://bit.ly/1JPHkL3&quot;, "C:\projects\vera\boost_1_59_0.zip")
    Write-Host "Extracting archive.."
    [io.compression.zipfile]::ExtractToDirectory("C:\projects\vera\boost_1_59_0.zip", "C:\projects\vera\")
    Set-Location "C:\projects\vera\boost_1_59_0"
    Write-Host "Building boost.."
    & ".\bootstrap.bat"
    
    # & .\b2 address-model=64 toolset=msvc-14.0 windows-api=desktop variant=debug link=static threading=multi runtime-link=shared --with-log
    
    & .\b2 address-model=64 architecture=x86 --build-type=complete
    & .\b2 install --prefix="c:\libraries\x64"
  }
  