<?xml version="1.0" encoding="ISO-8859-1"?>
<rule name="L004" last-updated="2006.06.02">

<title>Line cannot be too long</title>

<description>
<p>The source code line should not exceed some <emph>reasonable</emph> length.</p>
</description>

<parameters>
<param name="max-line-length" default="100">Maximum length of source code line.</param>
</parameters>

<compliance>
<standard name="Inspirel" />
</compliance>

<script><![CDATA[# Line cannot be too long

set maxLength [getParameter "max-line-length" 100]

foreach f [getSourceFileNames] {
    set lineNumber 1
    foreach line [getAllLines $f] {
        if {[string length $line] > $maxLength} {
            report $f $lineNumber "line is longer than ${maxLength} characters"
        }
        incr lineNumber
    }
}
]]></script>

<test>

<source><![CDATA[@ test.cpp
void foo()
{
    cout << "Hello, this is a very long line of code that may not be displayed readably in some editors";
}
]]></source>

<result><![CDATA[test.cpp:3: line is longer than 100 characters
]]></result>

</test>
</rule>
