<?xml version="1.0" encoding="ISO-8859-1"?>
<rule name="T013" last-updated="2007.10.26">

<title>Source files should contain the copyright notice</title>

<description>
<p>The copyright notice is required by man coding standards and guidelines. In some countries every written artwork has some copyright, even if implicit. Prefer explicit notice to avoid any later confusion.</p>
<p>This rule verifies that at least one comment in the source file contains the "copyright" word.</p>
</description>

<compliance>
<standard name="Boost" />
</compliance>

<script><![CDATA[# Source files should contain the copyright notice

foreach file [getSourceFileNames] {
    set found false
    foreach comment [getTokens $file 1 0 -1 -1 {ccomment cppcomment}] {
        set value [lindex $comment 0]
        if {[string first "copyright" [string tolower $value]] != -1} {
            set found true
            break
        }
    }
    if {$found == false} {
        report $file 1 "no copyright notice found"
    }
}
]]></script>

<test>

<source><![CDATA[@ test.cpp
void foo()
{
    if (!c) {}
    if (not c) {}
    if (c == false) {}
}
]]></source>

<result><![CDATA[test.cpp:1: no copyright notice found
]]></result>

</test>
</rule>
