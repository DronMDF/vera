<?xml version="1.0" encoding="ISO-8859-1"?>
<rule name="L003" last-updated="2006.05.31">

<title>No leading and no trailing empty lines</title>

<description>
<p><emph>Leading and trailing empty lines</emph> confuse users of various tools (like <code>head</code> and <code>tail</code>) and artificially influence some source code metrics.</p>
</description>

<compliance>
<standard name="Inspirel" />
</compliance>

<script><![CDATA[# No leading and no trailing empty lines

foreach f [getSourceFileNames] {
    set lineCount [getLineCount $f]
    if {$lineCount > 0} {
        set firstLine [getLine $f 1]
        if {[string trim $firstLine] == ""} {
            report $f 1 "leading empty line(s)"
        }

        set lastLine [getLine $f $lineCount]
        if {[string trim $lastLine] == ""} {
            report $f $lineCount "trailing empty line(s)"
        }
    }
}
]]></script>

<test>

<source><![CDATA[@ test1.cpp

int foo();
@ test2.cpp
int bar();

]]></source>

<result><![CDATA[test1.cpp:1: leading empty line(s)
test2.cpp:2: trailing empty line(s)
]]></result>

</test>
</rule>
