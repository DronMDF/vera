<?xml version="1.0" encoding="ISO-8859-1"?>
<rule name="L006" last-updated="2007.01.23">

<title>Source file should not be too long</title>

<description>
<p>The source file should not exceed a <emph>reasonable</emph> length.</p>
<p>Long source files can indicate an opportunity for refactoring.</p>
</description>

<parameters>
<param name="max-file-length" default="2000">Maximum number of lines in a file.</param>
</parameters>

<compliance>
<standard name="Inspirel" />
</compliance>

<script><![CDATA[# Source file should not be too long

set maxLines [getParameter "max-file-length" 2000]

foreach f [getSourceFileNames] {
    set length [getLineCount $f]
    if {$length > $maxLines} {
        report $f $length "source file is too long"
    }
}
]]></script>

<test>
<test-parameters>
<test-param name="max-file-length" value="3" />
</test-parameters>

<source><![CDATA[@ test.cpp
void foo()
{



}
]]></source>

<result><![CDATA[test.cpp:6: source file is too long
]]></result>

</test>
</rule>
